<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>当在浏览器中输入google.com并按下回车后发生了什么 | Cloud&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="Cloud">
  
  
    <meta name="description" content="看到标题应该就清楚了，这篇文章是解释一个较为常规的问题，当你在浏览器的地址栏输入一个网址的时候，有很多事情发生在你的浏览器与服务器之间，在这背后涉及到了一系列的计算机网络的知识。
解析urlurl全称是统一资源定位符，用于作为表示互联网的地址
url的标准格式如下：
[协议类型]://[服务器地址]:[端口号]/[资源层级UNIX文件路径][文件名]?[查询]#[片段ID]

我们输入的googl">
  
  <meta name="description" content="看到标题应该就清楚了，这篇文章是解释一个较为常规的问题，当你在浏览器的地址栏输入一个网址的时候，有很多事情发生在你的浏览器与服务器之间，在这背后涉及到了一系列的计算机网络的知识。 解析urlurl全称是统一资源定位符，用于作为表示互联网的地址 url的标准格式如下： [协议类型]:&#x2F;&#x2F;[服务器地址]:[端口号]&#x2F;[资源层级UNIX文件路径][文件名]?[查询]#[片段ID]  我们输入的googl">
<meta property="og:type" content="article">
<meta property="og:title" content="当在浏览器中输入google.com并按下回车后发生了什么">
<meta property="og:url" content="http://example.com/2021/03/13/%E5%BD%93%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%BE%93%E5%85%A5google-com%E5%B9%B6%E6%8C%89%E4%B8%8B%E5%9B%9E%E8%BD%A6%E5%90%8E%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/index.html">
<meta property="og:site_name" content="Cloud&#39;s Blog">
<meta property="og:description" content="看到标题应该就清楚了，这篇文章是解释一个较为常规的问题，当你在浏览器的地址栏输入一个网址的时候，有很多事情发生在你的浏览器与服务器之间，在这背后涉及到了一系列的计算机网络的知识。 解析urlurl全称是统一资源定位符，用于作为表示互联网的地址 url的标准格式如下： [协议类型]:&#x2F;&#x2F;[服务器地址]:[端口号]&#x2F;[资源层级UNIX文件路径][文件名]?[查询]#[片段ID]  我们输入的googl">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-03-13T11:41:45.000Z">
<meta property="article:modified_time" content="2021-03-13T13:39:51.514Z">
<meta property="article:author" content="Cloud">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">Cloud&#39;s Blog</a></h1>
    <p><a href="/"></a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/about/me.html">About</a></li>
      
        <li><a href="/tags">Tags</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2021/03/13/当在浏览器中输入google-com并按下回车后发生了什么/">
  <time datetime="2021-03-13T11:41:45.000Z">
    2021-03-13
  </time>
</a>
    
    
  
    <h1 class="title">当在浏览器中输入google.com并按下回车后发生了什么</h1>
  

  </header>
  
  <div class="entry">
    
      <p>看到标题应该就清楚了，这篇文章是解释一个较为常规的问题，当你在浏览器的地址栏输入一个网址的时候，有很多事情发生在你的浏览器与服务器之间，在这背后涉及到了一系列的计算机网络的知识。</p>
<h2 id="解析url"><a href="#解析url" class="headerlink" title="解析url"></a>解析url</h2><p>url全称是统一资源定位符，用于作为表示互联网的地址</p>
<p>url的标准格式如下：</p>
<pre><code>[协议类型]://[服务器地址]:[端口号]/[资源层级UNIX文件路径][文件名]?[查询]#[片段ID]
</code></pre>
<p>我们输入的google.com会被浏览器自动补全成为</p>
<pre><code>https://google.com:443
</code></pre>
<p>意思就是采用https协议，去访问google.com域名的443端口</p>
<h2 id="DNS查询"><a href="#DNS查询" class="headerlink" title="DNS查询"></a>DNS查询</h2><p>上一步我们成功得到了完整的url，之后就可以解析url中包含的完整地址了，即google.com地址，于是我们这一步开始DNS查询步骤</p>
<ul>
<li>首先查询google.com是否存在浏览器缓存中</li>
<li>如果缓存中没有，那么就会查询操作系统的本地Hosts中查找域名的缓存记录</li>
<li>如果依旧查不到，浏览器会向DNS服务器发一条查询请求</li>
<li>查询DNS服务器</li>
</ul>
<p>通过DNS服务器我们会得到google.com对应的ip地址</p>
<h2 id="建立TCP连接"><a href="#建立TCP连接" class="headerlink" title="建立TCP连接"></a>建立TCP连接</h2><p>上一步我们成功得到了ip地址，这一步则需要使用套接字来建立TCP连接了。</p>
<p>浏览器会首先会使用ip地址和端口创建一个TCP流套接字，就可以开始TCP的三次握手建立连接环节：</p>
<ul>
<li>浏览器选择一个初始序列号(ISN)，将设置了SYN位的封包发送给服务器端，表明自己要建立连接并设置初始序列号</li>
<li>服务器收到SYN包<ul>
<li>服务器端选择自己的初始序列号</li>
<li>服务器设置SYN位，表明自己选择了一个初始序列号</li>
<li>服务器把(客户端ISN+1)复制到ACK域，并设置ACK位，表明自己接收到了客户端的第一个封包</li>
</ul>
</li>
<li>客户端确认连接<ul>
<li>自己的序列号+1</li>
<li>把(服务器端ISN+1)复制到ACK域，并设置ACK位，表明收到了客户端的第一个封包</li>
</ul>
</li>
</ul>
<p>建立连接之后就可以来传输数据了</p>
<p>如果需要断开连接，则需要TCP的四次挥手环节：</p>
<ul>
<li>要关闭连接的一方发送一个FIN包</li>
<li>另一方确认这个FIN包，进入半连接状态，此时另一方只可以发送，不能接收</li>
<li>另一方发送自己的FIN包</li>
<li>最开始关闭连接的一方使用ACK包来确认接收到了FIN</li>
</ul>
<h2 id="使用HTTP协议"><a href="#使用HTTP协议" class="headerlink" title="使用HTTP协议"></a>使用HTTP协议</h2><p>TCP连接完成之后，可以来传输数据了</p>
<p>浏览器就可以发送HTTP请求报文来请求服务器发送html文件了</p>
<p>服务器接收到请求报文之后，会向客户端发送html文件</p>
<p>浏览器就得到了html文件……</p>
<h2 id="浏览器渲染"><a href="#浏览器渲染" class="headerlink" title="浏览器渲染"></a>浏览器渲染</h2><p>html文件是纯文本文件，普通人是很难读懂的</p>
<p>就需要浏览器对html文件进行渲染</p>
<p>渲染过后就是大家常见的搜索界面</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>至此，键入google.com并按下回车的过程已经结束了</p>

    
  </div>
  <footer>
    
      
      
  <div class="tags">
    <a class="tags-none-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a>
  </div>

    
    <div class="clearfix"></div>
  </footer>
</article>

</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2021 <a href="/">Cloud</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>